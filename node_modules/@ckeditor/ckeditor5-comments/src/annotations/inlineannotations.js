/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x3c8f56=_0x4ece;(function(_0x56cc76,_0x16a524){const _0x33680d=_0x4ece,_0x40dac4=_0x56cc76();while(!![]){try{const _0xd7a307=-parseInt(_0x33680d(0x152))/0x1+-parseInt(_0x33680d(0x190))/0x2+parseInt(_0x33680d(0x154))/0x3*(-parseInt(_0x33680d(0x188))/0x4)+-parseInt(_0x33680d(0x163))/0x5+-parseInt(_0x33680d(0x161))/0x6+-parseInt(_0x33680d(0x16a))/0x7*(parseInt(_0x33680d(0x16f))/0x8)+parseInt(_0x33680d(0x17e))/0x9;if(_0xd7a307===_0x16a524)break;else _0x40dac4['push'](_0x40dac4['shift']());}catch(_0x23f915){_0x40dac4['push'](_0x40dac4['shift']());}}}(_0x1e34,0xdcb80));import{Plugin as _0x21d618}from'ckeditor5/src/core.js';function _0x1e34(){const _0x38b74a=['isPremiumPlugin','inlineannotations-not-allowed-with-context','pluginName','updatePosition','getClientRects','collapse','setActiveAnnotation','fromRect','isFocused','includes','activeAnnotation','_manuallyClosed','width','delete','1100887oIyUlR','viewRangeToDom','3491526OIVdOg','hasView','focusTracker','domConverter','stopListening','clear','selection','visibleView','isOfficialPlugin','inline','init','getByView','update','7079358QOUKvz','targetRect','2689265XgluQz','top','length','_forceRefresh','getOrderedSelectedAnnotations','addObserver','change:isFocused','7eWZCEu','target','get','remove','add','1971520YlmVGR','left','editing','change:height','push','has','isAttached','_selectedAnnotations','inlineannotations-detach-not-attached','inlineannotations-attach-already-attached','bottom','find','afterInit','destroy','document','57763980jJhGDW','keystrokes','switchTo','plugins','_addedAnnotations','getFirstRange','isActive','_balloon','from','_addAnnotationToBalloon','4KrasRb','context','_closeAnnotation','hasActive','annotations','listenTo','editableElement','map','2570482qUlyGW','detach','mousedown','blur','showStack','change:visibleView','register','InlineAnnotations','view','set','editor','refresh','attach','focus','right','_setSelectedAnnotations','Esc','_removeAnnotationFromBalloon','getBoundingClientRect','requires','_getBalloonTargetForAnnotation','every'];_0x1e34=function(){return _0x38b74a;};return _0x1e34();}import _0xcb5a4e from'./annotationsuis.js';import _0x14d1d5 from'./editorannotations.js';import{ContextualBalloon as _0x46716f}from'ckeditor5/src/ui.js';import{MouseObserver as _0x25443d}from'ckeditor5/src/engine.js';import{CKEditorError as _0x56f9d0,Rect as _0x3a4dfe}from'ckeditor5/src/utils.js';function _0x4ece(_0x4e3d15,_0x18baf8){const _0x1e34f0=_0x1e34();return _0x4ece=function(_0x4ece58,_0x576b48){_0x4ece58=_0x4ece58-0x12f;let _0x13c20d=_0x1e34f0[_0x4ece58];return _0x13c20d;},_0x4ece(_0x4e3d15,_0x18baf8);}import'./../../theme/annotation-inline.css';export default class c extends _0x21d618{static get[_0x3c8f56(0x141)](){return[_0x14d1d5,_0x46716f,_0xcb5a4e];}static get[_0x3c8f56(0x146)](){const _0x2a46a3=_0x3c8f56;return _0x2a46a3(0x135);}static get[_0x3c8f56(0x15c)](){return!0x0;}static get[_0x3c8f56(0x144)](){return!0x0;}constructor(_0x34370c){const _0x14ed45=_0x3c8f56;super(_0x34370c),_0x34370c[_0x14ed45(0x171)][_0x14ed45(0x136)][_0x14ed45(0x168)](_0x25443d),this[_0x14ed45(0x175)]=!0x1,this[_0x14ed45(0x137)](_0x14ed45(0x14e),null),this[_0x14ed45(0x18c)]=null,this[_0x14ed45(0x14f)]=new Set(),this[_0x14ed45(0x185)]=_0x34370c[_0x14ed45(0x181)][_0x14ed45(0x16c)](_0x46716f),this[_0x14ed45(0x182)]=new Set(),this[_0x14ed45(0x176)]=[],this[_0x14ed45(0x166)]=!0x1;}[_0x3c8f56(0x15e)](){const _0x637949=_0x3c8f56,_0x1864cb=this[_0x637949(0x138)][_0x637949(0x181)][_0x637949(0x16c)](_0xcb5a4e);_0x1864cb[_0x637949(0x189)]===this[_0x637949(0x138)]&&(_0x1864cb[_0x637949(0x134)](_0x637949(0x15d),this),this[_0x637949(0x138)][_0x637949(0x17f)][_0x637949(0x137)](_0x637949(0x13e),(_0x37f99f,_0x556192)=>{const _0x1d9d6b=_0x637949,_0x188167=this[_0x1d9d6b(0x185)];if(this[_0x1d9d6b(0x175)]&&_0x188167[_0x1d9d6b(0x15b)]){const _0x1d01c6=this[_0x1d9d6b(0x18c)][_0x1d9d6b(0x15f)](_0x188167[_0x1d9d6b(0x15b)]);_0x1d01c6&&this[_0x1d9d6b(0x18a)](_0x1d01c6),_0x556192();}}));}[_0x3c8f56(0x17b)](){const _0x2190c1=_0x3c8f56,_0x32f1f7=this[_0x2190c1(0x138)][_0x2190c1(0x181)][_0x2190c1(0x16c)](_0xcb5a4e);_0x32f1f7[_0x2190c1(0x189)]===this[_0x2190c1(0x138)]&&(_0x32f1f7[_0x2190c1(0x18b)]()||_0x32f1f7[_0x2190c1(0x180)](_0x2190c1(0x15d)));}[_0x3c8f56(0x14a)](_0x51a49a){const _0x3c0083=_0x3c8f56;_0x51a49a!==this[_0x3c0083(0x14e)]&&(this[_0x3c0083(0x14e)]&&(this[_0x3c0083(0x14e)][_0x3c0083(0x184)]=!0x1),_0x51a49a&&this[_0x3c0083(0x138)]['ui'][_0x3c0083(0x156)][_0x3c0083(0x14c)]&&(this[_0x3c0083(0x18c)][_0x3c0083(0x174)](_0x51a49a)&&this[_0x3c0083(0x187)](_0x51a49a,!0x0),_0x51a49a[_0x3c0083(0x184)]=!0x0),_0x51a49a||this[_0x3c0083(0x13d)]([]),this[_0x3c0083(0x14e)]=_0x51a49a);}[_0x3c8f56(0x13a)](_0x259f90){const _0x20da6d=_0x3c8f56;this[_0x20da6d(0x18c)]=_0x259f90;const _0x3ac6f3=this[_0x20da6d(0x138)][_0x20da6d(0x181)][_0x20da6d(0x16c)](_0xcb5a4e),_0x1584f3=this[_0x20da6d(0x185)];if(this[_0x20da6d(0x175)])throw new _0x56f9d0(_0x20da6d(0x178),this);if(_0x3ac6f3[_0x20da6d(0x189)]!==this[_0x20da6d(0x138)])throw new _0x56f9d0(_0x20da6d(0x145),this);const _0x105f0c=this[_0x20da6d(0x138)][_0x20da6d(0x181)][_0x20da6d(0x16c)](_0x14d1d5);this[_0x20da6d(0x18d)](_0x105f0c,_0x20da6d(0x139),()=>{const _0x397f56=_0x20da6d,_0x20a33b=_0x105f0c[_0x397f56(0x167)]({'annotations':this[_0x397f56(0x18c)],'activeAnnotation':this[_0x397f56(0x14e)]});var _0x5da2a7,_0x1f88d3;!this[_0x397f56(0x166)]&&(_0x5da2a7=_0x20a33b,_0x1f88d3=this[_0x397f56(0x176)],_0x5da2a7[_0x397f56(0x165)]===_0x1f88d3[_0x397f56(0x165)]&&_0x5da2a7[_0x397f56(0x143)](_0x378ff7=>_0x1f88d3[_0x397f56(0x14d)](_0x378ff7)))||(this[_0x397f56(0x166)]=!0x1,this[_0x397f56(0x13d)](_0x20a33b),this[_0x397f56(0x14a)](_0x20a33b[0x0]||null));}),this[_0x20da6d(0x18d)](_0x105f0c,_0x20da6d(0x131),(_0x492837,{isAnnotationTracked:_0xb590a4})=>{const _0x197d6a=_0x20da6d;this[_0x197d6a(0x14e)]&&_0xb590a4(this[_0x197d6a(0x14e)])&&(this[_0x197d6a(0x13d)]([]),this[_0x197d6a(0x14a)](null));}),this[_0x20da6d(0x18d)](this[_0x20da6d(0x138)]['ui'][_0x20da6d(0x156)],_0x20da6d(0x169),(_0x189e60,_0x4d0f9e,_0x4baae7)=>{const _0x2e8c5d=_0x20da6d;_0x4baae7||this[_0x2e8c5d(0x14a)](null);}),this[_0x20da6d(0x18d)](_0x259f90,_0x20da6d(0x16d),(_0x18c38f,_0x3991a3)=>{const _0x44cc01=_0x20da6d;this[_0x44cc01(0x13f)](_0x3991a3),_0x3991a3===this[_0x44cc01(0x14e)]&&this[_0x44cc01(0x14a)](null);}),this[_0x20da6d(0x18d)](_0x1584f3,_0x20da6d(0x133),(_0x3d9744,_0x3d4694,_0xd0e9a3,_0x4e3721)=>{const _0x2af41d=_0x20da6d;_0x4e3721&&this[_0x2af41d(0x158)](_0x4e3721);const _0x130a1b=_0x259f90[_0x2af41d(0x15f)](_0xd0e9a3);_0xd0e9a3&&_0x130a1b&&(this[_0x2af41d(0x18d)](_0xd0e9a3,_0x2af41d(0x172),()=>{const _0x28e5d8=_0x2af41d;_0x1584f3[_0x28e5d8(0x147)]();}),this[_0x2af41d(0x18d)](_0xd0e9a3,_0x2af41d(0x13e),()=>{const _0x21af56=_0x2af41d;this[_0x21af56(0x18a)](_0x130a1b),this[_0x21af56(0x138)][_0x21af56(0x171)][_0x21af56(0x136)][_0x21af56(0x13b)]();}),this[_0x2af41d(0x14e)]!==_0x130a1b&&this[_0x2af41d(0x14a)](_0x130a1b));}),this[_0x20da6d(0x18d)](this[_0x20da6d(0x138)]['ui'],_0x20da6d(0x160),()=>{const _0x58c250=_0x20da6d;_0x1584f3[_0x58c250(0x15b)]&&(_0x259f90[_0x58c250(0x15f)](_0x1584f3[_0x58c250(0x15b)])&&_0x1584f3[_0x58c250(0x147)]());}),this[_0x20da6d(0x18d)](this[_0x20da6d(0x138)][_0x20da6d(0x171)][_0x20da6d(0x136)][_0x20da6d(0x17d)],_0x20da6d(0x130),()=>{const _0x3ddbb2=_0x20da6d;this[_0x3ddbb2(0x166)]=!0x0,this[_0x3ddbb2(0x14f)][_0x3ddbb2(0x159)]();}),this[_0x20da6d(0x138)][_0x20da6d(0x171)][_0x20da6d(0x136)][_0x20da6d(0x17d)][_0x20da6d(0x15a)][_0x20da6d(0x18e)]&&this[_0x20da6d(0x138)][_0x20da6d(0x171)][_0x20da6d(0x136)][_0x20da6d(0x13b)](),this[_0x20da6d(0x175)]=!0x0;}[_0x3c8f56(0x12f)](){const _0xa8b0d6=_0x3c8f56;if(!this[_0xa8b0d6(0x175)])throw new _0x56f9d0(_0xa8b0d6(0x177),this);this[_0xa8b0d6(0x14a)](null);for(const _0x52cd68 of this[_0xa8b0d6(0x182)])this[_0xa8b0d6(0x13f)](_0x52cd68);this[_0xa8b0d6(0x158)](),this[_0xa8b0d6(0x175)]=!0x1,this[_0xa8b0d6(0x18c)]=null;}[_0x3c8f56(0x17c)](){const _0x56eed1=_0x3c8f56;this[_0x56eed1(0x175)]&&this[_0x56eed1(0x12f)]();}[_0x3c8f56(0x13d)](_0x15ef65){const _0x1f58c2=_0x3c8f56;for(const _0xe373f4 of this[_0x1f58c2(0x176)])_0x15ef65[_0x1f58c2(0x14d)](_0xe373f4)||this[_0x1f58c2(0x14f)][_0x1f58c2(0x151)](_0xe373f4);for(const _0x348d2f of this[_0x1f58c2(0x18c)])_0x15ef65[_0x1f58c2(0x14d)](_0x348d2f)||this[_0x1f58c2(0x13f)](_0x348d2f);if(this[_0x1f58c2(0x138)]['ui'][_0x1f58c2(0x156)][_0x1f58c2(0x14c)]){for(const _0x3a1853 of _0x15ef65)this[_0x1f58c2(0x187)](_0x3a1853);}this[_0x1f58c2(0x176)]=_0x15ef65;}[_0x3c8f56(0x187)](_0x347ec2,_0x47c98e=!0x1){const _0x7b52af=_0x3c8f56;this[_0x7b52af(0x14f)][_0x7b52af(0x174)](_0x347ec2)||(this[_0x7b52af(0x182)][_0x7b52af(0x174)](_0x347ec2)||this[_0x7b52af(0x185)][_0x7b52af(0x155)](_0x347ec2[_0x7b52af(0x136)])||(this[_0x7b52af(0x182)][_0x7b52af(0x16e)](_0x347ec2),this[_0x7b52af(0x185)][_0x7b52af(0x16e)]({'stackId':_0x347ec2[_0x7b52af(0x136)]['id'],'view':_0x347ec2[_0x7b52af(0x136)],'position':{'target':()=>this[_0x7b52af(0x142)](_0x347ec2)}})),_0x47c98e&&this[_0x7b52af(0x185)][_0x7b52af(0x132)](_0x347ec2[_0x7b52af(0x136)]['id']));}[_0x3c8f56(0x142)](_0x385b89){const _0x9d261f=_0x3c8f56,_0x2df156=_0x385b89[_0x9d261f(0x16b)],_0x368173=this[_0x9d261f(0x138)][_0x9d261f(0x171)][_0x9d261f(0x136)],_0x2ce4c1=_0x368173[_0x9d261f(0x17d)][_0x9d261f(0x15a)][_0x9d261f(0x183)](),_0x2141d0=_0x368173[_0x9d261f(0x157)][_0x9d261f(0x153)](_0x2ce4c1);if(_0x2141d0[_0x9d261f(0x149)](!0x0),_0x2df156){if(_0x2df156 instanceof _0x3a4dfe)return _0x2df156;let _0x2ddfa5=[];for(const _0x319327 of _0x2df156)_0x2ddfa5[_0x9d261f(0x173)](...(_0x47350c=_0x319327[_0x9d261f(0x148)](),Array[_0x9d261f(0x186)](_0x47350c)[_0x9d261f(0x18f)](DOMRect[_0x9d261f(0x14b)])));_0x2ddfa5=function(_0x1088d8){const _0x2fa076=_0x9d261f,_0x21169c=[];let _0x1b2500=_0x1088d8[0x0];for(let _0x4647e8=0x1;_0x4647e8<_0x1088d8[_0x2fa076(0x165)];_0x4647e8++)b(_0x1b2500,_0x1088d8[_0x4647e8])?_0x1b2500[_0x2fa076(0x150)]+=_0x1088d8[_0x4647e8][_0x2fa076(0x150)]:(_0x21169c[_0x2fa076(0x173)](_0x1b2500),_0x1b2500=_0x1088d8[_0x4647e8]);return _0x21169c[_0x2fa076(0x173)](_0x1b2500),_0x21169c;}(_0x2ddfa5);const _0x5f420a=_0x2141d0[_0x9d261f(0x140)]();return _0x2ddfa5[_0x9d261f(0x17a)](_0x4045e6=>_0x4045e6[_0x9d261f(0x164)]<=_0x5f420a[_0x9d261f(0x164)]&&_0x4045e6[_0x9d261f(0x179)]>=_0x5f420a[_0x9d261f(0x179)]&&_0x4045e6[_0x9d261f(0x170)]<=_0x5f420a[_0x9d261f(0x170)]&&_0x4045e6[_0x9d261f(0x13c)]>=_0x5f420a[_0x9d261f(0x13c)])||_0x2ddfa5[0x0];}var _0x47350c;return _0x385b89[_0x9d261f(0x162)]||_0x2141d0;}[_0x3c8f56(0x13f)](_0x587173){const _0x2f6e36=_0x3c8f56;this[_0x2f6e36(0x182)][_0x2f6e36(0x174)](_0x587173)&&this[_0x2f6e36(0x185)][_0x2f6e36(0x155)](_0x587173[_0x2f6e36(0x136)])&&(this[_0x2f6e36(0x182)][_0x2f6e36(0x151)](_0x587173),this[_0x2f6e36(0x185)][_0x2f6e36(0x16d)](_0x587173[_0x2f6e36(0x136)]));}[_0x3c8f56(0x18a)](_0x10e8e8){const _0x3c8824=_0x3c8f56;this[_0x3c8824(0x14f)][_0x3c8824(0x16e)](_0x10e8e8),this[_0x3c8824(0x13f)](_0x10e8e8);}}function b(_0xea0fc2,_0x451602){const _0xce6dff=_0x3c8f56;return _0xea0fc2[_0xce6dff(0x164)]===_0x451602[_0xce6dff(0x164)]&&_0xea0fc2[_0xce6dff(0x179)]===_0x451602[_0xce6dff(0x179)]&&_0xea0fc2[_0xce6dff(0x13c)]===_0x451602[_0xce6dff(0x170)];}