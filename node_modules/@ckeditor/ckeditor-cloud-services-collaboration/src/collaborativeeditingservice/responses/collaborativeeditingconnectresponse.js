/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import _0xdbb0d8 from'./../../message.js';import _0x3ef25f from'./../helpers/operationmetadatahelpers.js';import _0x6ffc16 from'../descriptors/operationmetadatadescriptor.js';class CollaborativeEditingConnectResponse extends _0xdbb0d8{constructor(_0x1ca4ae,_0x49325f,_0x449e4d=[],_0x479f0a=[],_0x32bcd9=0x0,_0x2e06b9=[],_0x42fb2f=null,_0x1a10f1='',_0xa09f76='',_0x5d95b6=null){super(),this['channel']=_0x1ca4ae,this['version']=_0x49325f,this['buffers']=_0x449e4d,this['types']=_0x479f0a,this['offset']=_0x32bcd9,this['metadata']=_0x2e06b9,this['initData']=_0x42fb2f,this['sessionId']=_0x1a10f1,this['lastOperationId']=_0xa09f76,this['sessionCreatedAt']=_0x5d95b6;}get['data'](){return{'buffers':this['buffers'],'types':this['types'],'baseVersion':this['version']-this['types']['length'],'lastOperationId':this['lastOperationId'],'sessionCreatedAt':this['sessionCreatedAt']};}get['wereChangesApplied'](){var _0x1d3194;return!(null===(_0x1d3194=this['types'])||void 0x0===_0x1d3194?void 0x0:_0x1d3194['length'])&&null===this['initData'];}['toJSON'](){var _0x109c05;return{'channel':this['channel'],'version':this['version'],'sessionId':this['sessionId'],'buffers':this['buffers'],'types':this['types'],'offset':this['offset'],'metadata':_0x3ef25f['removeUnnecessaryMetadata'](this['types'],this['metadata'])['map'](_0x6ffc16['toJSON']),'initData':null!==(_0x109c05=this['initData'])&&void 0x0!==_0x109c05?_0x109c05:'','isInitialized':'string'==typeof this['initData'],'lastOperationId':this['lastOperationId'],'sessionCreatedAt':this['sessionCreatedAt']?this['sessionCreatedAt']['toISOString']():null};}static['create'](_0x46f1d7){return new CollaborativeEditingConnectResponse(_0x46f1d7['channel'],_0x46f1d7['version'],_0x46f1d7['buffers'],_0x46f1d7['types'],_0x46f1d7['offset'],_0x46f1d7['metadata'],_0x46f1d7['initData'],_0x46f1d7['sessionId'],_0x46f1d7['lastOperationId'],_0x46f1d7['sessionCreatedAt']);}static['fromJSON'](_0x3b285d){var _0xdd9eb5;let _0x593b5f=null;return!0x0===_0x3b285d['isInitialized']?_0x593b5f=null!==(_0xdd9eb5=_0x3b285d['initData'])&&void 0x0!==_0xdd9eb5?_0xdd9eb5:'':'boolean'!=typeof _0x3b285d['isInitialized']&&_0x3b285d['initData']&&(_0x593b5f=_0x3b285d['initData']),CollaborativeEditingConnectResponse['create']({'channel':_0x3b285d['channel'],'version':_0x3b285d['version'],'buffers':_0x3b285d['buffers'],'types':_0x3b285d['types'],'offset':_0x3b285d['offset'],'metadata':_0x3ef25f['prepareMetadataForOperations'](_0x3b285d['types'],_0x3b285d['metadata'])['map'](_0x6ffc16['fromJSON']),'initData':_0x593b5f,'sessionId':_0x3b285d['sessionId'],'lastOperationId':_0x3b285d['lastOperationId'],'sessionCreatedAt':_0x3b285d['sessionCreatedAt']?new Date(_0x3b285d['sessionCreatedAt']):null});}}CollaborativeEditingConnectResponse['DESCRIPTOR_NAME']='CollaborativeEditingConnectResponse',CollaborativeEditingConnectResponse['DESCRIPTOR']={'fields':{'channel':{'type':'string','id':0x1},'offset':{'type':'uint32','id':0x2},'version':{'type':'uint32','id':0x3},'buffers':{'rule':'repeated','type':'bytes','id':0x4},'types':{'rule':'repeated','type':'uint32','id':0x5},'metadata':{'rule':'repeated','type':_0x6ffc16['DESCRIPTOR_NAME'],'id':0x7},'initData':{'type':'string','id':0x8},'isInitialized':{'type':'bool','id':0x9},'sessionId':{'type':'string','id':0xa},'lastOperationId':{'type':'string','id':0xb},'sessionCreatedAt':{'type':'string','id':0xc}}};export default CollaborativeEditingConnectResponse;