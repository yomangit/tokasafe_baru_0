/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
import _0x130fd3 from'./../../../messagescompressor.js';import _0x29805b from'./../../../message.js';import _0x5a895f from'./packetoptionsmessage.js';import _0x3616da from'./../parserutils.js';import _0x37cf48 from'./numberbytespacketdatamessage.js';import _0x49035f from'./stringbytespacketdatamessage.js';import _0x15b77e from'./bytesbytespacketdatamessage.js';import _0x589412 from'./stringobjectpacketdatamessage.js';import _0x4950e3 from'./numberobjectpacketdatamessage.js';import _0x3835c4 from'./objectobjectpacketdatamessage.js';import _0x20ae66 from'./objectbufferpacketdatamessage.js';import _0x3f0f7e from'./stringstringpacketdatamessage.js';import _0x51108d from'./stringnumberpacketdatamessage.js';import _0x591b34 from'./numbernumberpacketdatamessag.js';import _0x1d977e from'./numberstringpacketdatamessag.js';const PACKET_DATA_MESSAGES=/* #__PURE__ -- @preserve */
((()=>[_0x37cf48,_0x49035f,_0x15b77e,_0x589412,_0x4950e3,_0x3835c4,_0x20ae66,_0x3f0f7e,_0x51108d,_0x591b34,_0x1d977e]['reduce']((_0x37ad77,_0x4df35a)=>(_0x37ad77[_0x4df35a['TYPE']]=_0x4df35a,_0x37ad77),{}))());class PacketMessage extends _0x29805b{constructor(_0x1121d8,_0x339ab5,_0x42d0af,_0x40b662='/',_0x40f5c6){super(),this['type']=_0x1121d8,this['data']=_0x339ab5,this['id']=_0x42d0af,this['nsp']=_0x40b662,this['options']=null!=_0x40f5c6?_0x40f5c6:new _0x5a895f();}get['packetData'](){return void 0x0===this['data']['data']&&void 0x0===this['data']['data1']?[]:this['data']['data']&&void 0x0===this['data']['data1']?[this['data']['data']]:[this['data']['data'],this['data']['data1']];}['toJSON'](){const _0x503d3d=_0x130fd3['encode'](this['options']),_0x44db0f=_0x130fd3['encode'](this['data']);return{'type':this['type']+0xa*this['data']['constructor']['TYPE'],'id':this['id'],'nsp':'/'===this['nsp']?void 0x0:this['nsp'],'data':_0x44db0f,'options':_0x503d3d};}static['fromJSON'](_0x3b3b15){const _0x495ca9=Math['floor'](_0x3b3b15['type']/0xa);return new PacketMessage(_0x3b3b15['type']-0xa*_0x495ca9,_0x130fd3['decode'](_0x3b3b15['data'],PACKET_DATA_MESSAGES[_0x495ca9]),_0x3b3b15['id'],_0x3b3b15['nsp'],_0x3b3b15['options']?_0x130fd3['decode'](_0x3b3b15['options'],_0x5a895f):new _0x5a895f());}static['create'](_0xc97614,_0x464dc0={}){var _0x292163;const _0x3d37ad=_0x3616da['getPacketType'](_0x3616da['getType'](_0xc97614['data'][0x0]),_0x3616da['getType'](null!==(_0x292163=_0xc97614['data'][0x1])&&void 0x0!==_0x292163?_0x292163:_0xc97614['data'][0x0]));return new PacketMessage(_0xc97614['type'],PACKET_DATA_MESSAGES[_0x3d37ad]['create'](_0xc97614['data'][0x0],_0xc97614['data'][0x1]),_0xc97614['id'],_0xc97614['nsp'],new _0x5a895f(_0x464dc0['flags'],_0x464dc0['rooms'],_0x464dc0['except']));}}PacketMessage['TYPE']=0xa,PacketMessage['DESCRIPTOR_NAME']='PacketMessage',PacketMessage['DESCRIPTOR']={'fields':{'type':{'type':'uint32','id':0x1},'id':{'type':'uint32','id':0x2},'nsp':{'type':'string','id':0x3},'data':{'type':'bytes','id':0x4},'options':{'type':'bytes','id':0x5}}};export default PacketMessage;