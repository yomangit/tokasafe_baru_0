/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x4e2e75=_0x2ca0;(function(_0x42e6d9,_0xb3c797){const _0xf1bb75=_0x2ca0,_0x441867=_0x42e6d9();while(!![]){try{const _0x3d7a86=parseInt(_0xf1bb75(0xc0))/0x1+-parseInt(_0xf1bb75(0xae))/0x2+parseInt(_0xf1bb75(0xe8))/0x3*(parseInt(_0xf1bb75(0xfc))/0x4)+parseInt(_0xf1bb75(0xfe))/0x5*(-parseInt(_0xf1bb75(0xba))/0x6)+parseInt(_0xf1bb75(0xb6))/0x7+parseInt(_0xf1bb75(0xf0))/0x8*(parseInt(_0xf1bb75(0xff))/0x9)+-parseInt(_0xf1bb75(0xe2))/0xa*(parseInt(_0xf1bb75(0xc9))/0xb);if(_0x3d7a86===_0xb3c797)break;else _0x441867['push'](_0x441867['shift']());}catch(_0x5fc811){_0x441867['push'](_0x441867['shift']());}}}(_0x1a57,0x3d717));function _0x2ca0(_0x2053f4,_0x5b9adf){const _0x1a5792=_0x1a57();return _0x2ca0=function(_0x2ca0ca,_0x258925){_0x2ca0ca=_0x2ca0ca-0xa0;let _0x5d84a4=_0x1a5792[_0x2ca0ca];return _0x5d84a4;},_0x2ca0(_0x2053f4,_0x5b9adf);}import{ContextPlugin as _0x29681a}from'ckeditor5/src/core.js';import{CKEditorError as _0x218fa1,Collection as _0x480bd7}from'ckeditor5/src/utils.js';import{clickOutsideHandler as _0x525f33,BalloonPanelView as _0x58e208,BodyCollection as _0x568d45}from'ckeditor5/src/ui.js';import{isElement as _0xcaba87}from'lodash-es';import _0x1592fa from'../realtimecollaborativeediting/sessions.js';import _0x3bf1b5 from'./view/presencelistview.js';import _0x232bb9 from'./view/presencedropdownlistview.js';import _0x14d834 from'./view/presencedropdownlistitemview.js';import _0x49509c from'./view/presenceinlinelistitemview.js';function _0x1a57(){const _0x40df79=['filter','presenceList.displayMe','isHidden','[tabindex]','onClick','presencelist-missing-container','100948oFzlbr','remove','125045adsWxJ','1980ObFgqJ','_handleUserRemove','Tab','listenTo','init','length','context','appendChild','isMe','offsetWidth','isCollapsed','sort',':not([disabled]):not([tabindex=\x22-1\x22])','body','checkIfScrollable','bind','set','class','presencelist-collapseat-invalid-format','render','change:isFocused','966504sroHLI','from','ck\x20ck-presence-list__balloon','counterView','view','balloonPanelView','focus','Enter','3338783ylHxiK','presenceDropdownView','reverse','offsetHeight','96HEnxmB','usersCount','content','number','_allConnectedUsers','activeElement','487862iYLzcf','config','Shift+Tab','presenceList.container','allConnectedUsers','Esc','locale','[contenteditable]','hideDropdown','1023qdaWKs','indexOf','map','presenceList.collapseAt','querySelectorAll','join','_bodyCollection','currentDisplayedUsers','detachFromDom','displayMe','bindTo','input','using','button','destroy','pin','inlineListView','keystrokes','element','isRendered','items','isVisible','add','showDropdown','isFocusable','49780QalIPp','select','min','execute','unpin','focusTracker','30LarYua','requires','isExpanded','_handleUserAdd','plugins','textarea','get','tabIndex','13848mTkFZB','_createView','hasTooltip','attachToDom','define','presenceList'];_0x1a57=function(){return _0x40df79;};return _0x1a57();}const A={'collapseAt':0x6,'displayMe':!0x0};export default class r extends _0x29681a{constructor(_0x4e1240){const _0x32c673=_0x2ca0;super(_0x4e1240),this[_0x32c673(0xcf)]=null,this[_0x32c673(0x105)][_0x32c673(0xc1)][_0x32c673(0xf4)](_0x32c673(0xf5),A);const _0x4341c5=_0x4e1240[_0x32c673(0xc1)][_0x32c673(0xee)](_0x32c673(0xcc));if(_0x32c673(0xbd)!=typeof _0x4341c5)throw new _0x218fa1(_0x32c673(0xab),this);if(_0x4341c5<0x1)throw new _0x218fa1(_0x32c673(0xab),this);this[_0x32c673(0xbe)]=this[_0x32c673(0x105)][_0x32c673(0xec)][_0x32c673(0xee)](_0x1592fa)[_0x32c673(0xc4)],this[_0x32c673(0xa9)](_0x32c673(0xbb),0x0),this[_0x32c673(0xd0)]=new _0x480bd7(),this[_0x32c673(0xb3)]=new _0x58e208(),this[_0x32c673(0xb3)][_0x32c673(0xaa)]=_0x32c673(0xb0),this[_0x32c673(0xb2)]=this[_0x32c673(0xf1)](),this[_0x32c673(0xb7)]=void 0x0;}static get[_0x4e2e75(0xe9)](){return[_0x1592fa];}[_0x4e2e75(0x103)](){const _0x5142a0=_0x4e2e75;for(const _0x212341 of this[_0x5142a0(0xbe)])this[_0x5142a0(0xeb)](_0x212341);this[_0x5142a0(0x102)](this[_0x5142a0(0xbe)],_0x5142a0(0xdf),(_0x3517c8,_0x5ef324)=>{const _0x2d9e1e=_0x5142a0;this[_0x2d9e1e(0xeb)](_0x5ef324);}),this[_0x5142a0(0x102)](this[_0x5142a0(0xbe)],_0x5142a0(0xfd),(_0x146ed5,_0x167218)=>{const _0x2de233=_0x5142a0;this[_0x2de233(0x100)](_0x167218);});}[_0x4e2e75(0xf1)](){const _0x510611=_0x4e2e75,_0x3271ce=this[_0x510611(0x105)],_0xa0765e=new _0x3bf1b5(this[_0x510611(0x105)][_0x510611(0xc6)]),_0x4f4a1d=this[_0x510611(0xb3)];if(!_0xcaba87(_0x3271ce[_0x510611(0xc1)][_0x510611(0xee)](_0x510611(0xc3))))throw new _0x218fa1(_0x510611(0xfb),this);return _0xa0765e[_0x510611(0xb1)][_0x510611(0xa8)](_0x510611(0xbb))['to'](this),_0xa0765e[_0x510611(0xa8)](_0x510611(0xa3))['to'](this,_0x510611(0xbb),_0x4ee944=>{const _0xa99fce=_0x510611,{collapseAt:_0x5311c3,displayMe:_0x26e976}=_0x3271ce[_0xa99fce(0xc1)][_0xa99fce(0xee)](_0xa99fce(0xf5)),_0x2b8227=_0x4ee944>=_0x5311c3;return _0xa0765e[_0xa99fce(0xb1)][_0xa99fce(0xf8)]=!(0x1==_0x4ee944&&_0x26e976||_0x2b8227),_0x2b8227||this[_0xa99fce(0xc8)](),_0x2b8227;}),_0xa0765e[_0x510611(0xd9)][_0x510611(0xdd)][_0x510611(0xd3)](this[_0x510611(0xd0)])[_0x510611(0xd5)](_0x5e99ba=>{const _0x53a736=_0x510611,_0xb96501=_0x3271ce[_0x53a736(0xc1)][_0x53a736(0xee)](_0x53a736(0xf5)),_0x4958d4=new _0x49509c(_0x3271ce[_0x53a736(0xc6)],_0x5e99ba,!!_0xb96501[_0x53a736(0xfa)]);return _0x4958d4[_0x53a736(0xa8)](_0x53a736(0xf2))['to'](_0xa0765e,_0x53a736(0xa3),_0x3c097e=>!_0x3c097e),_0x4958d4[_0x53a736(0xa8)](_0x53a736(0xe1))['to'](_0xa0765e,_0x53a736(0xa3),_0x25b06c=>!_0x25b06c),_0xb96501[_0x53a736(0xfa)]&&this[_0x53a736(0x102)](_0x4958d4,_0x53a736(0xe5),()=>{const _0x4f7d86=_0x53a736;this[_0x4f7d86(0xb2)][_0x4f7d86(0xa3)]||_0xb96501[_0x4f7d86(0xfa)](_0x5e99ba,_0x4958d4[_0x4f7d86(0xdb)]);}),_0x4958d4;}),this[_0x510611(0x102)](_0xa0765e[_0x510611(0xd9)],_0x510611(0xe5),()=>{const _0x2b1802=_0x510611;this[_0x2b1802(0xb7)]?this[_0x2b1802(0xc8)]():this[_0x2b1802(0xb2)][_0x2b1802(0xa3)]&&this[_0x2b1802(0xe0)]();}),_0xa0765e[_0x510611(0xd9)][_0x510611(0xda)][_0x510611(0xa9)](_0x510611(0xb5),(_0x33aa6d,_0x214748)=>{const _0x434491=_0x510611;this[_0x434491(0xb2)][_0x434491(0xa3)]&&(this[_0x434491(0xe0)](),_0x214748());}),_0xa0765e[_0x510611(0xac)](),_0x4f4a1d[_0x510611(0xac)](),_0x525f33({'emitter':_0xa0765e,'activator':()=>_0x4f4a1d[_0x510611(0xde)],'contextElements':[_0x4f4a1d[_0x510611(0xdb)],_0xa0765e[_0x510611(0xd9)][_0x510611(0xdb)]],'callback':()=>this[_0x510611(0xc8)]()}),_0x3271ce[_0x510611(0xc1)][_0x510611(0xee)](_0x510611(0xc3))[_0x510611(0xa0)](_0xa0765e[_0x510611(0xdb)]),this[_0x510611(0xcf)]=new _0x568d45(this[_0x510611(0x105)][_0x510611(0xc6)]),this[_0x510611(0xcf)][_0x510611(0xf3)](),this[_0x510611(0xcf)][_0x510611(0xdf)](this[_0x510611(0xb3)]),_0xa0765e;}[_0x4e2e75(0xeb)](_0x3cf336){const _0x48eac7=_0x4e2e75;if(!this[_0x48eac7(0x105)][_0x48eac7(0xc1)][_0x48eac7(0xee)](_0x48eac7(0xf7))&&_0x3cf336[_0x48eac7(0xa1)])return;const _0xe04d13=this[_0x48eac7(0x105)][_0x48eac7(0xc1)][_0x48eac7(0xee)](_0x48eac7(0xcc))-0x1;this[_0x48eac7(0xbb)]++,this[_0x48eac7(0xd0)][_0x48eac7(0x104)]==_0xe04d13&&this[_0x48eac7(0xd0)][_0x48eac7(0x104)]>0x1&&this[_0x48eac7(0xd0)][_0x48eac7(0xfd)](0x1);const _0x3e8f21=_0x3cf336[_0x48eac7(0xa1)]?0x0:this[_0x48eac7(0xd0)][_0x48eac7(0x104)];this[_0x48eac7(0xd0)][_0x48eac7(0xdf)](_0x3cf336,_0x3e8f21);}[_0x4e2e75(0x100)](_0x2b6dbc){const _0x4172ec=_0x4e2e75;if(this[_0x4172ec(0xbb)]--,this[_0x4172ec(0xd0)][_0x4172ec(0xee)](_0x2b6dbc['id'])&&(this[_0x4172ec(0xd0)][_0x4172ec(0xfd)](_0x2b6dbc['id']),this[_0x4172ec(0xd0)][_0x4172ec(0x104)]<this[_0x4172ec(0xbb)])){for(const _0x19c7f5 of Array[_0x4172ec(0xaf)](this[_0x4172ec(0xbe)])[_0x4172ec(0xb8)]())if(!this[_0x4172ec(0xd0)][_0x4172ec(0xee)](_0x19c7f5['id']))return void this[_0x4172ec(0xd0)][_0x4172ec(0xdf)](_0x19c7f5,Math[_0x4172ec(0xe4)](this[_0x4172ec(0xd0)][_0x4172ec(0x104)],0x1));}}[_0x4e2e75(0xe0)](){const _0x1a8328=_0x4e2e75;if(this[_0x1a8328(0xb7)])return;const _0x11992c=this[_0x1a8328(0x105)][_0x1a8328(0xc1)][_0x1a8328(0xee)](_0x1a8328(0xf5));this[_0x1a8328(0xb7)]=new _0x232bb9(this[_0x1a8328(0x105)][_0x1a8328(0xc6)],!!_0x11992c[_0x1a8328(0xfa)]),this[_0x1a8328(0xb2)][_0x1a8328(0xd9)][_0x1a8328(0xea)]=!0x0;const {listWrapperView:_0x8c43f1}=this[_0x1a8328(0xb7)];_0x8c43f1[_0x1a8328(0xdd)][_0x1a8328(0xd3)](this[_0x1a8328(0xbe)])[_0x1a8328(0xd5)](_0x14668f=>{const _0xb1c42f=_0x1a8328;if(!_0x11992c[_0xb1c42f(0xd2)]&&_0x14668f[_0xb1c42f(0xa1)])return null;const _0x256b29=new _0x14d834(this[_0xb1c42f(0x105)][_0xb1c42f(0xc6)],_0x14668f,!!_0x11992c[_0xb1c42f(0xfa)]);return _0x11992c[_0xb1c42f(0xfa)]&&this[_0xb1c42f(0x102)](_0x256b29,_0xb1c42f(0xe5),()=>{const _0x24f45b=_0xb1c42f;_0x11992c[_0x24f45b(0xfa)](_0x14668f,_0x256b29[_0x24f45b(0xdb)]);}),_0x256b29;}),this[_0x1a8328(0xb3)][_0x1a8328(0xbc)][_0x1a8328(0xdf)](this[_0x1a8328(0xb7)]),this[_0x1a8328(0xb3)][_0x1a8328(0xd8)]({'target':this[_0x1a8328(0xb2)][_0x1a8328(0xd9)][_0x1a8328(0xdb)]}),_0x8c43f1[_0x1a8328(0xb4)](),_0x8c43f1[_0x1a8328(0xa7)]();const _0x176b22=(_0xa78e40,_0x51597b)=>{const _0x34029b=_0x1a8328;this[_0x34029b(0xc8)](),this[_0x34029b(0xb2)][_0x34029b(0xd9)][_0x34029b(0xb4)](),_0x51597b();};_0x8c43f1[_0x1a8328(0xda)][_0x1a8328(0xa9)](_0x1a8328(0xc5),_0x176b22),_0x8c43f1[_0x1a8328(0xda)][_0x1a8328(0xa9)](_0x1a8328(0xc2),_0x176b22),_0x8c43f1[_0x1a8328(0xda)][_0x1a8328(0xa9)](_0x1a8328(0x101),(_0x446094,_0x2b27e2)=>{const _0x54c086=_0x1a8328;!function(_0xd65c26){const _0x55f0a2=_0x2ca0,_0x4b8cb3=['a',_0x55f0a2(0xd6),_0x55f0a2(0xd4),_0x55f0a2(0xe3),_0x55f0a2(0xed),_0x55f0a2(0xf9),_0x55f0a2(0xc7)][_0x55f0a2(0xcb)](_0x3b46e9=>_0x3b46e9+_0x55f0a2(0xa5))[_0x55f0a2(0xce)](','),_0x55cd35=[...document[_0x55f0a2(0xa6)][_0x55f0a2(0xcd)](_0x4b8cb3)][_0x55f0a2(0xf6)](_0x15bae8=>_0x15bae8===document[_0x55f0a2(0xbf)]||_0x15bae8[_0x55f0a2(0xa2)]+_0x15bae8[_0x55f0a2(0xb9)]>0x0)[_0x55f0a2(0xa4)]((_0xc9108d,_0xbcf8fd)=>(_0xc9108d[_0x55f0a2(0xef)]||0x0)-(_0xbcf8fd[_0x55f0a2(0xef)]||0x0)),_0x306a17=_0x55cd35[_0x55f0a2(0xca)](_0xd65c26),_0x2f45d7=_0x55cd35[(_0x306a17+0x1)%_0x55cd35[_0x55f0a2(0x104)]];_0x2f45d7&&_0x2f45d7[_0x55f0a2(0xb4)]();}(this[_0x54c086(0xb2)][_0x54c086(0xdb)]),this[_0x54c086(0xc8)](),_0x2b27e2();}),_0x8c43f1[_0x1a8328(0xe7)][_0x1a8328(0xdf)](this[_0x1a8328(0xb2)][_0x1a8328(0xdb)]),_0x8c43f1[_0x1a8328(0xe7)]['on'](_0x1a8328(0xad),(_0x4a68f7,_0x210671,_0x5bc34a)=>{const _0x102c64=_0x1a8328;_0x5bc34a||this[_0x102c64(0xc8)]();});}[_0x4e2e75(0xc8)](){const _0x32b068=_0x4e2e75;this[_0x32b068(0xb7)]&&(this[_0x32b068(0xb2)][_0x32b068(0xd9)][_0x32b068(0xea)]=!0x1,this[_0x32b068(0xb3)][_0x32b068(0xe6)](),this[_0x32b068(0xb3)][_0x32b068(0xbc)][_0x32b068(0xfd)](this[_0x32b068(0xb7)]),this[_0x32b068(0xb7)][_0x32b068(0xd7)](),this[_0x32b068(0xb7)]=void 0x0);}[_0x4e2e75(0xd7)](){const _0x35ac43=_0x4e2e75;super[_0x35ac43(0xd7)](),this[_0x35ac43(0xb2)]&&this[_0x35ac43(0xb2)][_0x35ac43(0xdc)]&&this[_0x35ac43(0xb2)][_0x35ac43(0xd7)](),this[_0x35ac43(0xcf)]&&(this[_0x35ac43(0xcf)][_0x35ac43(0xd1)](),this[_0x35ac43(0xcf)][_0x35ac43(0xd7)](),this[_0x35ac43(0xcf)]=null);}}