/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x1a1a96=_0x4bc6;(function(_0x2955c3,_0x30f07a){const _0x550e3e=_0x4bc6,_0x323996=_0x2955c3();while(!![]){try{const _0x4d7b2b=-parseInt(_0x550e3e(0x23e))/0x1+parseInt(_0x550e3e(0x259))/0x2*(-parseInt(_0x550e3e(0x235))/0x3)+parseInt(_0x550e3e(0x1f4))/0x4*(-parseInt(_0x550e3e(0x21a))/0x5)+-parseInt(_0x550e3e(0x231))/0x6+parseInt(_0x550e3e(0x247))/0x7*(-parseInt(_0x550e3e(0x1fe))/0x8)+-parseInt(_0x550e3e(0x207))/0x9+parseInt(_0x550e3e(0x21d))/0xa;if(_0x4d7b2b===_0x30f07a)break;else _0x323996['push'](_0x323996['shift']());}catch(_0x44cd9a){_0x323996['push'](_0x323996['shift']());}}}(_0x68b1,0x79902));import{Plugin as _0x435042}from'ckeditor5/src/core.js';import{version as _0x2b01b7}from'ckeditor5/src/utils.js';function _0x4bc6(_0x3c8904,_0x3c6c2e){const _0x68b139=_0x68b1();return _0x4bc6=function(_0x4bc64a,_0x1252a1){_0x4bc64a=_0x4bc64a-0x1f0;let _0xdf4678=_0x68b139[_0x4bc64a];return _0xdf4678;},_0x4bc6(_0x3c8904,_0x3c6c2e);}import{Users as _0x45c0a0}from'ckeditor5-collaboration/src/collaboration-core.js';import _0x1f5204 from'../realtimecollaborativeediting/realtimecollaborationclient.js';import _0x4c4b9b from'../realtimecollaborativeediting/websocketgateway.js';import _0x50b09a from'../realtimecollaborativeediting/sessions.js';function _0x68b1(){const _0x1ed261=['isEnabled','updateRevisions','sendBufferedUpdates','listenTo','112AElZzB','RevisionHistoryService','code','_revisions','currentRevision','map','sessionId','catch','_lastRequestId','4535136SBXZkB','_revisionHistoryService','change:_isConnected','cloud-services-internal-error:\x20Request\x20timeout.','fromVersion','reverse','from','addUser','reconnect','_handleRevisionsUpdate','connection','editor','_fetchMissingUsers','remove','startsWith','size','length','_fixRevision','type','100QkLVGq','_revisionDataBuilder','buildRevisionData','36626370UnnmFv','has','keys','adapter','get','config','destroy','wrongRequestId','creatorId','cloud-services-internal-error:\x20Not\x20connected.','bind','_bufferUpdate','createdAt','cloudServices.bundleVersion','revisionsUpdated','_oldOffset','requires','authors','getRevision','_offset','4495206aDqMds','isBundleUploaded','connected','affectsData','234EHPeba','isConnected','then','connect','change:_isPendingUpdate','max','once','_isConnected','getMany','58208aQnAAD','_getLatestVersion','_update','getRevisions','_isPendingUpdate','marker','setRevisionData','_startingVersion','_revisionTracker','322294uBcyqd','init','cloud-services-internal-error:\x20Revision\x20History\x20Service\x20is\x20not\x20connected.','data','add','baseVersion','toVersion','reInit','state','_handleReconnectionError','message','RevisionTracker','CONNECTED','authorsIds','_bufferedUpdates','repository','collaboration.channelId','_getLatestVersionFromServerOperations','16886xvFrRO','_createCurrentRevision','addRevisionData','_preventResendingRevisionData','plugins','getOperations','isEmptyCurrent','addToReconnectionStack','setSource','diffData','110052IyAeAB','serverHistory','getUser','400','off','_waitForServiceReady'];_0x68b1=function(){return _0x1ed261;};return _0x68b1();}import{EditorService as _0x51cefe,RevisionHistoryService as _0x5ebc8,User as _0x3e6860,WEB_SOCKET_GATEWAY_STATES as _0x1db8a8}from'@ckeditor/ckeditor-cloud-services-collaboration/src/services.js';class u extends _0x435042{static get[_0x1a1a96(0x22d)](){const _0x5e4a0e=_0x1a1a96;return[_0x4c4b9b,_0x1f5204,_0x5e4a0e(0x252),_0x50b09a,_0x45c0a0];}constructor(_0x1ed304){const _0x14752b=_0x1a1a96;super(_0x1ed304);const _0x371fcc=this[_0x14752b(0x212)][_0x14752b(0x222)][_0x14752b(0x221)](_0x14752b(0x257));this[_0x14752b(0x206)]=null,this[_0x14752b(0x246)]=this[_0x14752b(0x212)][_0x14752b(0x25d)][_0x14752b(0x221)](_0x14752b(0x252)),this[_0x14752b(0x208)]=new u[(_0x14752b(0x1ff))](_0x371fcc);}async[_0x1a1a96(0x248)](){const _0x2b3709=_0x1a1a96,_0x264cc1=this[_0x2b3709(0x212)][_0x2b3709(0x25d)][_0x2b3709(0x221)](_0x1f5204),_0x1fece6=_0x264cc1[_0x2b3709(0x1f5)],_0x1fec5b=this[_0x2b3709(0x212)][_0x2b3709(0x25d)][_0x2b3709(0x221)](_0x4c4b9b);this[_0x2b3709(0x246)][_0x2b3709(0x1f2)]({'history':_0x1fece6,'getLatestVersion':()=>this[_0x2b3709(0x23f)](),'getCurrentRevisionId':()=>_0x264cc1[_0x2b3709(0x204)]});const _0x3010ae=this[_0x2b3709(0x212)][_0x2b3709(0x222)][_0x2b3709(0x221)](_0x2b3709(0x22a))||_0x2b01b7,_0x13bd70=await _0x51cefe[_0x2b3709(0x232)](_0x1fec5b[_0x2b3709(0x211)],_0x3010ae);this[_0x2b3709(0x246)][_0x2b3709(0x220)]={'getRevision':async({revisionId:_0xe030c0})=>(await this[_0x2b3709(0x1f9)](),await this[_0x2b3709(0x208)][_0x2b3709(0x22f)](_0xe030c0)),'updateRevisions':async _0xbb6f86=>{const _0x4bb23e=_0x2b3709;await this[_0x4bb23e(0x1f9)]();const _0x3158af=this[_0x4bb23e(0x246)][_0x4bb23e(0x202)];if(_0x13bd70&&0x1===_0xbb6f86[_0x4bb23e(0x217)]&&_0xbb6f86[0x0]['id']===_0x3158af['id'])return _0xbb6f86;for(const _0x195503 of _0xbb6f86)_0x195503['id']===_0x3158af['id']&&(_0x195503[_0x4bb23e(0x1f0)]=_0x195503[_0x4bb23e(0x20b)]===_0x195503[_0x4bb23e(0x24d)]);return this[_0x4bb23e(0x208)][_0x4bb23e(0x1fb)](_0xbb6f86,this[_0x4bb23e(0x206)])[_0x4bb23e(0x237)](_0x599a98=>(this[_0x4bb23e(0x206)]=_0x599a98,_0xbb6f86))[_0x4bb23e(0x205)](_0x91f01a=>{const _0x527e0b=_0x4bb23e;if(rt(_0x91f01a)||_0x527e0b(0x1f7)===_0x91f01a[_0x527e0b(0x200)]&&void 0x0!==_0x91f01a[_0x527e0b(0x24a)][_0x527e0b(0x224)]){for(const _0x13a082 of _0xbb6f86){!this[_0x527e0b(0x246)][_0x527e0b(0x256)][_0x527e0b(0x22f)](_0x13a082['id'])||this[_0x527e0b(0x246)][_0x527e0b(0x228)](_0x13a082['id'],_0x13a082,!0x1);}if(rt(_0x91f01a))throw _0x91f01a;return _0xbb6f86;}throw _0x91f01a;});}},this[_0x2b3709(0x1fd)](this[_0x2b3709(0x208)],_0x2b3709(0x22b),(_0x391b93,{revisionsData:_0x4b8171,requestId:_0x50c998})=>{const _0x8ce4ae=_0x2b3709;Math[_0x8ce4ae(0x23a)](..._0x4b8171[_0x8ce4ae(0x203)](_0x154107=>_0x154107[_0x8ce4ae(0x24d)]))>this[_0x8ce4ae(0x258)]()-0x1?this[_0x8ce4ae(0x23f)]()[_0x8ce4ae(0x237)](()=>{const _0x2b1034=_0x8ce4ae;this[_0x2b1034(0x210)](_0x4b8171,_0x50c998);}):this[_0x8ce4ae(0x210)](_0x4b8171,_0x50c998);});const {revisions:_0xb07ec9,requestId:_0x596287}=await this[_0x2b3709(0x208)][_0x2b3709(0x238)](_0x1fec5b[_0x2b3709(0x211)]);_0x1fec5b[_0x2b3709(0x1f1)](this),this[_0x2b3709(0x206)]=_0x596287,await this[_0x2b3709(0x213)](_0xb07ec9);for(const _0x25eaa5 of _0xb07ec9)this[_0x2b3709(0x246)][_0x2b3709(0x25b)](_0x25eaa5);this[_0x2b3709(0x1fd)](_0x264cc1,_0x2b3709(0x209),(_0xdd29e3,_0x24371d,_0x3502d7)=>{const _0x34e0ef=_0x2b3709;_0x3502d7&&(this[_0x34e0ef(0x22c)]=_0x264cc1[_0x34e0ef(0x230)],_0xdd29e3[_0x34e0ef(0x1f8)]());}),this[_0x2b3709(0x246)][_0x2b3709(0x227)](_0x2b3709(0x1fa))['to'](_0x1fec5b,_0x2b3709(0x24f),_0x372ec8=>_0x372ec8===_0x1db8a8[_0x2b3709(0x253)]);}async[_0x1a1a96(0x20f)](){const _0x1e9ef3=_0x1a1a96,_0xe3c5d9=this[_0x1e9ef3(0x212)][_0x1e9ef3(0x25d)][_0x1e9ef3(0x221)](_0x4c4b9b),_0x260453=this[_0x1e9ef3(0x212)][_0x1e9ef3(0x25d)][_0x1e9ef3(0x221)](_0x1f5204),_0x7c2363=async()=>{const _0x3c6b4c=_0x1e9ef3,_0x1012e1=this[_0x3c6b4c(0x246)][_0x3c6b4c(0x202)],_0x1bfc06=_0x1012e1['id'],_0x18caf5=_0x1bfc06!==_0x260453[_0x3c6b4c(0x204)];if(_0x18caf5){const _0xd7719b=_0x260453[_0x3c6b4c(0x230)]-this[_0x3c6b4c(0x22c)],_0x40872c=this[_0x3c6b4c(0x258)]();this[_0x3c6b4c(0x246)][_0x3c6b4c(0x21b)][_0x3c6b4c(0x24e)]();if(_0x1012e1[_0x3c6b4c(0x24d)]+_0xd7719b!==_0x40872c){const _0x37814c=_0x1012e1[_0x3c6b4c(0x20b)]+_0xd7719b,_0x2471cf=this[_0x3c6b4c(0x212)][_0x3c6b4c(0x25d)][_0x3c6b4c(0x221)](_0x45c0a0),_0x613492=this[_0x3c6b4c(0x246)][_0x3c6b4c(0x21c)]({'revision':_0x1012e1,'from':_0x37814c,'to':_0x40872c});_0x613492['id']=_0x1012e1['id'];const _0x5f553a=_0x613492[_0x3c6b4c(0x254)][_0x3c6b4c(0x203)](_0x2fd667=>_0x2471cf[_0x3c6b4c(0x1f6)](_0x2fd667));_0x1012e1[_0x3c6b4c(0x240)]({..._0x613492,'authors':_0x5f553a},!0x0),this[_0x3c6b4c(0x246)][_0x3c6b4c(0x228)](_0x1012e1['id'],_0x613492,!0x0);}this[_0x3c6b4c(0x246)][_0x3c6b4c(0x245)]=_0x40872c,(_0x1012e1[_0x3c6b4c(0x24d)]===_0x1012e1[_0x3c6b4c(0x20b)]&&!this[_0x3c6b4c(0x246)][_0x3c6b4c(0x255)][_0x3c6b4c(0x21e)](_0x1bfc06)&&this[_0x3c6b4c(0x246)][_0x3c6b4c(0x256)][_0x3c6b4c(0x201)][_0x3c6b4c(0x214)](_0x1bfc06),this[_0x3c6b4c(0x246)][_0x3c6b4c(0x25a)](_0x40872c));}const {revisions:_0x47f5bd,requestId:_0x273553}=await this[_0x3c6b4c(0x208)][_0x3c6b4c(0x20f)](_0xe3c5d9[_0x3c6b4c(0x211)],this[_0x3c6b4c(0x206)]);_0x18caf5&&_0x47f5bd[_0x3c6b4c(0x217)]>0x0?_0x260453[_0x3c6b4c(0x250)]():(await this[_0x3c6b4c(0x213)](_0x47f5bd),this[_0x3c6b4c(0x210)](_0x47f5bd,_0x273553),this[_0x3c6b4c(0x246)][_0x3c6b4c(0x1fc)]());};return _0x260453[_0x1e9ef3(0x23c)]?_0x7c2363():new Promise((_0x4959bd,_0x1d4f45)=>{const _0x56ad90=_0x1e9ef3;_0x260453[_0x56ad90(0x23b)](_0x56ad90(0x209),()=>{const _0x1d6dac=_0x56ad90;_0x7c2363()[_0x1d6dac(0x237)](_0x4959bd)[_0x1d6dac(0x205)](_0x1d4f45);});});}[_0x1a1a96(0x223)](){const _0x28c6a9=_0x1a1a96;super[_0x28c6a9(0x223)]();}async[_0x1a1a96(0x1f9)](){const _0x440053=_0x1a1a96;this[_0x440053(0x208)][_0x440053(0x236)]||await new Promise(_0x1108eb=>{const _0x199d6a=_0x440053;this[_0x199d6a(0x1fd)](this[_0x199d6a(0x208)],_0x199d6a(0x233),_0x46f29d=>{const _0xdcb0bc=_0x199d6a;_0x46f29d[_0xdcb0bc(0x1f8)](),_0x1108eb();});});}[_0x1a1a96(0x258)](){const _0x55b188=_0x1a1a96,_0x470c09=this[_0x55b188(0x212)][_0x55b188(0x25d)][_0x55b188(0x221)](_0x1f5204)[_0x55b188(0x1f5)][_0x55b188(0x25e)]()[_0x55b188(0x20c)]();for(const _0x4295e4 of _0x470c09)if(_0x55b188(0x243)!==_0x4295e4[_0x55b188(0x219)]||_0x4295e4[_0x55b188(0x234)])return _0x4295e4[_0x55b188(0x24c)]+0x1;}[_0x1a1a96(0x23f)](){const _0x96f0d5=_0x1a1a96,_0x4b484e=this[_0x96f0d5(0x212)][_0x96f0d5(0x25d)][_0x96f0d5(0x221)](_0x1f5204);return new Promise(_0x43fe9f=>{const _0x31ddc6=_0x96f0d5;_0x4b484e[_0x31ddc6(0x242)]?_0x4b484e[_0x31ddc6(0x23b)](_0x31ddc6(0x239),()=>{const _0x1c6f5f=_0x31ddc6;_0x43fe9f(this[_0x1c6f5f(0x258)]());}):_0x43fe9f(this[_0x31ddc6(0x258)]());});}[_0x1a1a96(0x210)](_0x59c335,_0x110aa9){const _0x2beff6=_0x1a1a96,_0x210361=this[_0x2beff6(0x246)][_0x2beff6(0x256)];this[_0x2beff6(0x206)]=_0x110aa9;for(const _0x444963 of _0x59c335){const _0x3403ad=_0x210361[_0x2beff6(0x22f)](_0x444963['id']);if(_0x3403ad){if((_0x444963[_0x2beff6(0x20b)]||_0x444963[_0x2beff6(0x24d)])&&(_0x444963[_0x2beff6(0x1f3)]=null),_0x3403ad===this[_0x2beff6(0x246)][_0x2beff6(0x202)]){const _0x2cb0e3=Math[_0x2beff6(0x23a)](_0x3403ad[_0x2beff6(0x24d)],_0x444963[_0x2beff6(0x24d)]),_0x55fb42=Math[_0x2beff6(0x23a)](_0x3403ad[_0x2beff6(0x20b)],_0x444963[_0x2beff6(0x20b)]);let _0x2240c3;_0x3403ad[_0x2beff6(0x24d)]===_0x444963[_0x2beff6(0x24d)]&&_0x3403ad[_0x2beff6(0x20b)]===_0x444963[_0x2beff6(0x20b)]?(_0x2240c3=!0x0,this[_0x2beff6(0x25c)](_0x444963)):_0x444963[_0x2beff6(0x24d)]===_0x2cb0e3&&_0x444963[_0x2beff6(0x20b)]===_0x55fb42?_0x2240c3=!0x1:(_0x3403ad[_0x2beff6(0x24d)]===_0x2cb0e3&&_0x3403ad[_0x2beff6(0x20b)]===_0x55fb42||this[_0x2beff6(0x218)]({'revision':_0x3403ad,'from':_0x55fb42,'to':_0x2cb0e3}),_0x2240c3=!0x0),_0x2240c3&&(delete _0x444963[_0x2beff6(0x20b)],delete _0x444963[_0x2beff6(0x24d)],delete _0x444963[_0x2beff6(0x1f3)],delete _0x444963[_0x2beff6(0x229)],delete _0x444963[_0x2beff6(0x254)]);}this[_0x2beff6(0x246)][_0x2beff6(0x244)](_0x444963),this[_0x2beff6(0x25c)](_0x444963);}else this[_0x2beff6(0x246)][_0x2beff6(0x25b)](_0x444963);}const _0x1cba2c=_0x210361[_0x2beff6(0x241)]();_0x1cba2c[_0x2beff6(0x20c)]();for(let _0x28fc98=0x0;_0x28fc98<_0x1cba2c[_0x2beff6(0x217)]-0x1;_0x28fc98++){const _0x171fc1=_0x1cba2c[_0x28fc98],_0x3ced62=_0x1cba2c[_0x28fc98+0x1];if(_0x171fc1[_0x2beff6(0x20b)]<_0x3ced62[_0x2beff6(0x24d)]){const _0x57740a=_0x3ced62[_0x2beff6(0x24d)],_0x38f57d=Math[_0x2beff6(0x23a)](_0x57740a,_0x171fc1[_0x2beff6(0x24d)]);this[_0x2beff6(0x218)]({'revision':_0x171fc1,'from':_0x57740a,'to':_0x38f57d});}}}[_0x1a1a96(0x218)]({revision:_0x277f1d,from:_0x2c5a53,to:_0x20f50d}={}){const _0x54b707=_0x1a1a96,_0x44f730=this[_0x54b707(0x212)][_0x54b707(0x25d)][_0x54b707(0x221)](_0x45c0a0),_0x18ed9f=this[_0x54b707(0x246)][_0x54b707(0x21c)]({'revision':_0x277f1d,'from':_0x2c5a53,'to':_0x20f50d});_0x18ed9f[_0x54b707(0x22e)]=_0x18ed9f[_0x54b707(0x254)][_0x54b707(0x203)](_0x4cfaf9=>_0x44f730[_0x54b707(0x1f6)](_0x4cfaf9)),_0x277f1d[_0x54b707(0x240)](_0x18ed9f);}[_0x1a1a96(0x25c)](_0x4abf8a){const _0x10d3b5=_0x1a1a96,_0x30f19e={};_0x30f19e['id']=_0x4abf8a['id'];for(const _0x41962b of Object[_0x10d3b5(0x21f)](_0x4abf8a))'id'!==_0x41962b&&(_0x30f19e[_0x41962b]=void 0x0);this[_0x10d3b5(0x246)][_0x10d3b5(0x228)](_0x30f19e['id'],_0x30f19e,!0x0);}async[_0x1a1a96(0x213)](_0x5142e8){const _0x3bb78f=_0x1a1a96,_0x5f3b5f=this[_0x3bb78f(0x212)][_0x3bb78f(0x25d)][_0x3bb78f(0x221)](_0x45c0a0),{connection:_0x2164f2}=this[_0x3bb78f(0x212)][_0x3bb78f(0x25d)][_0x3bb78f(0x221)](_0x4c4b9b),_0x13c106=new Set();for(const _0xbcabac of _0x5142e8){for(const _0x30b6bd of _0xbcabac[_0x3bb78f(0x254)])_0x2d41e4(_0x30b6bd);_0xbcabac[_0x3bb78f(0x225)]&&_0x2d41e4(_0xbcabac[_0x3bb78f(0x225)]);}if(0x0===_0x13c106[_0x3bb78f(0x216)])return;const _0x816081=await _0x3e6860[_0x3bb78f(0x23d)](_0x2164f2,Array[_0x3bb78f(0x20d)](_0x13c106));for(const _0x4407ca of _0x816081)_0x5f3b5f[_0x3bb78f(0x1f6)](_0x4407ca['id'])||_0x5f3b5f[_0x3bb78f(0x20e)](_0x4407ca);function _0x2d41e4(_0x2560e7){const _0x3e92a3=_0x3bb78f;_0x5f3b5f[_0x3e92a3(0x1f6)](_0x2560e7)||_0x13c106[_0x3e92a3(0x24b)](_0x2560e7);}}}u[_0x1a1a96(0x1ff)]=_0x5ebc8;export default u;function rt(_0x32a979){const _0x4413a3=_0x1a1a96;return _0x32a979[_0x4413a3(0x251)][_0x4413a3(0x215)](_0x4413a3(0x249))||_0x32a979[_0x4413a3(0x251)][_0x4413a3(0x215)](_0x4413a3(0x226))||_0x32a979[_0x4413a3(0x251)][_0x4413a3(0x215)](_0x4413a3(0x20a));}