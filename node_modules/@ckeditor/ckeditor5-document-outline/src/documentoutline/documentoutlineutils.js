/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
function _0x42ee(_0x5bf00b,_0x29bc87){const _0xcd265e=_0xcd26();return _0x42ee=function(_0x42eebb,_0x72e480){_0x42eebb=_0x42eebb-0xce;let _0x1e69aa=_0xcd265e[_0x42eebb];return _0x1e69aa;},_0x42ee(_0x5bf00b,_0x29bc87);}const _0x1c788d=_0x42ee;(function(_0x5298b3,_0x2dd8d7){const _0x214c72=_0x42ee,_0x1e257c=_0x5298b3();while(!![]){try{const _0x3f737f=-parseInt(_0x214c72(0xea))/0x1*(parseInt(_0x214c72(0xe1))/0x2)+-parseInt(_0x214c72(0xef))/0x3+parseInt(_0x214c72(0xf0))/0x4+-parseInt(_0x214c72(0xe7))/0x5*(parseInt(_0x214c72(0xe2))/0x6)+parseInt(_0x214c72(0xe3))/0x7*(-parseInt(_0x214c72(0xcf))/0x8)+parseInt(_0x214c72(0xed))/0x9*(parseInt(_0x214c72(0xff))/0xa)+-parseInt(_0x214c72(0xf1))/0xb;if(_0x3f737f===_0x2dd8d7)break;else _0x1e257c['push'](_0x1e257c['shift']());}catch(_0x55707e){_0x1e257c['push'](_0x1e257c['shift']());}}}(_0xcd26,0x7ce2c));import{Plugin as _0x4516dc}from'ckeditor5/src/core.js';import{debounce as _0x1c5924}from'lodash-es';import{TreeWalker as _0x130e56}from'ckeditor5/src/engine.js';import{getElementText as _0x1a42fb,getDefaultFeatureHeadingNames as _0x4fc279}from'./utils.js';import{diff as _0x4114b6,diffToChanges as _0x42c4c2}from'ckeditor5/src/utils.js';export default class n extends _0x4516dc{constructor(){const _0xd59c66=_0x42ee;super(...arguments),this[_0xd59c66(0xf5)]=[];}static get[_0x1c788d(0xeb)](){const _0x4ed292=_0x1c788d;return _0x4ed292(0xdd);}static get[_0x1c788d(0xfd)](){return!0x0;}static get[_0x1c788d(0xf7)](){return!0x0;}[_0x1c788d(0xf8)](){const _0x58bc90=_0x1c788d,_0x47cefc=this[_0x58bc90(0xd4)];this[_0x58bc90(0xf5)]=this[_0x58bc90(0x103)]();let _0x28b061=[];_0x47cefc[_0x58bc90(0x100)][_0x58bc90(0xd5)]['on'](_0x58bc90(0xd0),_0x1c5924(()=>{const _0x195dad=_0x58bc90,_0x266ff5=_0x28b061;_0x28b061=this[_0x195dad(0xe4)]();const _0x1b2db0=_0x4114b6(_0x266ff5,_0x28b061,(_0x6985d0,_0x2aaa68)=>_0x6985d0[_0x195dad(0xdb)]===_0x2aaa68[_0x195dad(0xdb)]&&_0x6985d0[_0x195dad(0xfc)]===_0x2aaa68[_0x195dad(0xfc)]&&_0x6985d0[_0x195dad(0xee)]===_0x2aaa68[_0x195dad(0xee)]),_0x48835e=_0x42c4c2(_0x1b2db0,_0x28b061),_0x2075f4=this[_0x195dad(0xce)](),_0x1935e9=_0x28b061[_0x195dad(0x102)](_0x3ae579=>_0x3ae579[_0x195dad(0xee)]===_0x2075f4);_0x48835e[_0x195dad(0xf2)]&&this[_0x195dad(0xfe)](_0x195dad(0xd0),{'outlineDefinitions':_0x28b061,'activeItemIndex':_0x1935e9,'outlineChanges':_0x48835e}),this[_0x195dad(0xfe)](_0x195dad(0xd7),{'index':_0x1935e9});},0xfa,{'leading':!0x0,'trailing':!0x0}));}[_0x1c788d(0xd3)](){const _0x2a147f=_0x1c788d;this[_0x2a147f(0xf5)][_0x2a147f(0xf2)]||this[_0x2a147f(0xd2)]();}[_0x1c788d(0xe4)](){const _0x2dcf39=_0x1c788d,_0x2112ab=this[_0x2dcf39(0xd4)],_0x379b4d=[],_0x411258=this[_0x2dcf39(0xf5)];for(const _0x3ad541 of _0x2112ab[_0x2dcf39(0x100)][_0x2dcf39(0xd5)][_0x2dcf39(0xdf)]())_0x12d5db(_0x2112ab[_0x2dcf39(0x100)][_0x2dcf39(0xd5)][_0x2dcf39(0xd6)](_0x3ad541));function _0x12d5db(_0x4cb03d){const _0x220594=_0x2dcf39;for(const _0x4080bd of _0x4cb03d[_0x220594(0xf9)]())_0x4080bd['is'](_0x220594(0xf3))&&(_0x411258[_0x220594(0xd8)](_0x4080bd[_0x220594(0xf6)])&&_0x379b4d[_0x220594(0xd1)]({'level':_0x411258[_0x220594(0xdc)](_0x4080bd[_0x220594(0xf6)])+0x1,'text':_0x1a42fb(_0x4080bd),'modelElement':_0x4080bd}),_0x12d5db(_0x4080bd));}return _0x379b4d;}[_0x1c788d(0xce)](){const _0x330309=_0x1c788d,_0xfa23c6=this[_0x330309(0xd4)][_0x330309(0x100)][_0x330309(0xd5)][_0x330309(0xde)][_0x330309(0xe8)](),_0x1774fa=new _0x130e56({'direction':_0x330309(0xe9),'startPosition':_0xfa23c6});for(const _0x17b522 of _0x1774fa)if(_0x17b522[_0x330309(0xda)]['is'](_0x330309(0xf3))&&this[_0x330309(0xf5)][_0x330309(0xd8)](_0x17b522[_0x330309(0xda)][_0x330309(0xf6)]))return _0x17b522[_0x330309(0xda)];}[_0x1c788d(0x103)](){const _0x36cb25=_0x1c788d,_0x570b1e=this[_0x36cb25(0xd4)][_0x36cb25(0xf4)][_0x36cb25(0xfa)](_0x36cb25(0x105));return _0x570b1e||_0x4fc279(this[_0x36cb25(0xd4)]);}[_0x1c788d(0xd2)](){const _0x1449eb=_0x1c788d,_0x1b5674=this[_0x1449eb(0xd4)],_0x5c5c05=['h1','h2','h3','h4','h5','h6'],_0x389047=[];for(const _0x2bd0fb of _0x5c5c05){const _0x25c6bc=_0x1b5674[_0x1449eb(0xe6)][_0x1449eb(0xe5)][_0x1449eb(0xec)][_0x1449eb(0x101)](document[_0x1449eb(0xd9)](_0x2bd0fb)),_0x5abca8=_0x1b5674[_0x1449eb(0x104)][_0x1449eb(0xe0)](_0x25c6bc)[_0x1449eb(0xfb)](0x0);(null==_0x5abca8?void 0x0:_0x5abca8['is'](_0x1449eb(0xf3)))&&_0x389047[_0x1449eb(0xd1)](_0x5abca8[_0x1449eb(0xf6)]);}this[_0x1449eb(0xf5)]=_0x389047;}}function _0xcd26(){const _0x34aeaf=['pluginName','domConverter','211131TzFgtT','modelElement','160740HIQAmE','3238596NQzFwr','1071642WalXsB','length','element','config','_headingNames','name','isPremiumPlugin','init','getChildren','get','getChild','text','isOfficialPlugin','fire','400MWGMYb','model','domToView','findIndex','_getHeadingNames','data','documentOutline.headings','_getActiveHeading','2712TLbOUU','change','push','_deriveHeadingElementsFromConversion','afterInit','editor','document','getRoot','activeItemIndex','includes','createElement','item','level','indexOf','DocumentOutlineUtils','selection','getRootNames','toModel','14642PUQGkY','18INipce','11221DqnIJx','_getOutlineDefinitions','view','editing','427565YsTeEr','getFirstPosition','backward','39yGiEuI'];_0xcd26=function(){return _0x34aeaf;};return _0xcd26();}