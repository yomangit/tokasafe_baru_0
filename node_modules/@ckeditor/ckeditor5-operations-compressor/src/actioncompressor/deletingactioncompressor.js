/*
 *             Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 *
 *
 *
 *
 *          +---------------------------------------------------------------------------------+
 *          |                                                                                 |
 *          |                                 Hello stranger!                                 |
 *          |                                                                                 |
 *          |                                                                                 |
 *          |   What you're currently looking at is the source code of a legally protected,   |
 *          |    proprietary software. Any attempts to deobfuscate / disassemble this code    |
 *          |               are forbidden and will result in legal consequences.              |
 *          |                                                                                 |
 *          |                                                                                 |
 *          +---------------------------------------------------------------------------------+
 *
 *
 *
 *
 */
const _0x456036=_0x326d;(function(_0xd7ab6a,_0x2215b5){const _0xfabf8=_0x326d,_0x11d4ea=_0xd7ab6a();while(!![]){try{const _0x1e5203=-parseInt(_0xfabf8(0xb8))/0x1+-parseInt(_0xfabf8(0xaf))/0x2*(parseInt(_0xfabf8(0xa7))/0x3)+-parseInt(_0xfabf8(0xbb))/0x4*(-parseInt(_0xfabf8(0x9f))/0x5)+parseInt(_0xfabf8(0xb7))/0x6*(-parseInt(_0xfabf8(0xba))/0x7)+parseInt(_0xfabf8(0xb6))/0x8+-parseInt(_0xfabf8(0xa8))/0x9*(-parseInt(_0xfabf8(0xb5))/0xa)+parseInt(_0xfabf8(0xa9))/0xb;if(_0x1e5203===_0x2215b5)break;else _0x11d4ea['push'](_0x11d4ea['shift']());}catch(_0x1695b3){_0x11d4ea['push'](_0x11d4ea['shift']());}}}(_0x268f,0xa5273));import _0x570106 from'./actioncompressor.js';function _0x268f(){const _0x386793=['_context','wasUndone','$graveyard','_checkOperation','351262hdvVWJ','MoveOperation','_getCompressorByName','_decompressSingleOperation','_compareOperations','decompress','3139190dUBjuN','7201456Rnrgji','12948vxXrSU','1253532AWQWOI','_combineNext','3661WMtBsj','4SLKpLi','_splitCurrent','181600Nhgxvx','howMany','sourcePosition','__className','root','compress','targetPosition','_compressSingleOperation','12rNoLbe','9btpalv','27618096rtJbxs','buffers'];_0x268f=function(){return _0x386793;};return _0x268f();}import{arePositionsEqual as _0xc5a08c,getPositionShiftedBy as _0x578fa6}from'../utils.js';import{cloneDeep as _0x34225d}from'lodash-es';function _0x326d(_0x52ea69,_0x51773b){const _0x268f6f=_0x268f();return _0x326d=function(_0x326de7,_0x3e24aa){_0x326de7=_0x326de7-0x9f;let _0x28e646=_0x268f6f[_0x326de7];return _0x28e646;},_0x326d(_0x52ea69,_0x51773b);}export default class c extends _0x570106{[_0x456036(0xb9)](_0x134c05,_0x198405){const _0x5d3e20=_0x456036;return _0x198405[_0x5d3e20(0xa0)]++,_0x198405[_0x5d3e20(0xa1)]=_0x34225d(_0x134c05[_0x5d3e20(0xa1)]),_0x198405;}[_0x456036(0xbc)](_0x103a51){const _0x31f82c=_0x456036,_0x3d53f8=_0x34225d(_0x103a51);return _0x103a51[_0x31f82c(0xa0)]--,_0x3d53f8[_0x31f82c(0xa0)]=0x1,_0x3d53f8[_0x31f82c(0xa1)]=_0x578fa6(_0x3d53f8[_0x31f82c(0xa1)],_0x103a51[_0x31f82c(0xa0)]),_0x3d53f8;}[_0x456036(0xb3)](_0x17b7d8,_0x797638){const _0x3cae27=_0x456036;return!(!this[_0x3cae27(0xae)](_0x17b7d8)||!this[_0x3cae27(0xae)](_0x797638))&&(_0xc5a08c(_0x578fa6(_0x17b7d8[_0x3cae27(0xa1)],-0x1),_0x797638[_0x3cae27(0xa1)])&&_0xc5a08c(_0x17b7d8[_0x3cae27(0xa5)],_0x797638[_0x3cae27(0xa5)]));}[_0x456036(0xa6)](_0x2171aa){const _0x4b990b=_0x456036,_0x411cb1={'types':[],'buffers':[],'baseVersion':0x0};return this[_0x4b990b(0xab)][_0x4b990b(0xb1)](_0x4b990b(0xb0))[_0x4b990b(0xa4)](_0x411cb1,[_0x2171aa]),_0x411cb1[_0x4b990b(0xaa)][0x0];}[_0x456036(0xb2)](_0x4bf231){const _0x577d2c=_0x456036,_0x4fdb43=[];return this[_0x577d2c(0xab)][_0x577d2c(0xb1)](_0x577d2c(0xb0))[_0x577d2c(0xb4)](_0x4fdb43,_0x4bf231),_0x4fdb43[0x0];}[_0x456036(0xae)](_0x11022f){const _0x1f677e=_0x456036;return _0x1f677e(0xb0)==_0x11022f[_0x1f677e(0xa2)]&&_0x1f677e(0xad)==_0x11022f[_0x1f677e(0xa5)][_0x1f677e(0xa3)]&&0x1==_0x11022f[_0x1f677e(0xa0)]&&!_0x11022f[_0x1f677e(0xac)];}}